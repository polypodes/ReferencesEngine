{% extends "ApplicationRefactorReferenceBundle::layout.html.twig" %}

{% block project_active %}class="active"{% endblock %}

{% block body %}
<section class="item-container col-lg-12">
	<div class="row container">
	    <h1 class="page-title col-lg-4">{{ 'project.List'|trans }}</h1>

	    <div class="col-lg-5">
		    <div class="col-lg-6">
				<input type="text" class="form-control" id="project_search" placeholder="{{ 'project.Search'|trans }}" onkeypress="return enter(event)">
			</div>
			<div class="btn-group">
			  	<span type="button" class="sub btn btn-default" id="project_search_submit">{{ 'Search'|trans }}</span>
			  	<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
				    <span class="caret"></span>
				    <span class="sr-only">Toggle Dropdown</span>
			  	</button>
			  	<ul class="dropdown-menu" role="menu">
				    <li style="margin-left=5px;">{{ 'Sort'|trans }}</li>
				    <li class="divider"></li>
				    <li><a href="{{ path('refactor_projects', {'sort': 'asc'}) }}">{{ 'Ascending'|trans }}</a></li>
				    <li><a href="{{ path('refactor_projects', {'sort': 'desc'}) }}">{{ 'Descending'|trans }}</a></li>
				    <li class="divider"></li>
				    <li><a href="{{ path('refactor_projects', {'sort' : 'recent'}) }}">{{ 'Recent'|trans }}</a></li>
				    <li><a href="{{ path('refactor_projects', {'sort': 'old'}) }}">{{ 'Old'|trans }}</a></li>
			  	</ul>
			</div>
		</div>
		<form name="add_book" action="{{ path('refactor_add_books') }}" method="post">
			<div class="col-lg-2">
		  		<button type="submit" class="btn btn-primary disabled addBook">
					{{ 'book.Create'|trans }}
					<span class="numberProject">0</span>
				</button>
			</div>

			<article class="col-lg-4 new-project">
				<div class="thumbnail project">
			      	<a href="{{ path('refactor_add_projects') }}" class="btn btn-primary btn-lg">{{ 'project.New'|trans }}</a>
				</div>
			</article>

			{% for project in projects %}
		  	<article class="col-lg-4 project" data-date="{{project.date|date('Y')}}" data-tag="{% for tag in project.tags %}{{tag|lower}} {% endfor %}">
	    		<input type="checkbox" name="projects[]" value="{{project.id}}" class="checkbox hidden">

	    		<figure class="project-img">
	    			<a href="{{ path('refactor_show_projects', {'id': project.id}) }}">
	    				{% media project.image, 'thumbnail' %}
	    			</a>
	    		</figure>

		    	<div class="project-details">
		      		<h1><a href="{{ path('refactor_show_projects', {'id': project.id}) }}">{{project.title}}</a></h1>
		      		<h2>{{project.title2}}</h2>

					<p>
						<a href="#" class="btn btn-primary btn-lg btn-block selector addToBook" role="button">
			    			<span class="glyphicon glyphicon-plus"></span>
			    			<span class="glyphicon-class">{{ 'book.Add'|trans }}</span>
			  			</a>
					</p>
		      		<p>
		    			<a href="{{ path('refactor_edit_projects', {'id': project.id}) }}" class="btn btn-warning col-md-4 btn-sm " role="button">
		        			<span class="glyphicon glyphicon-edit"></span>
		        			<span class="glyphicon-class">{{ 'Edit'|trans }}</span>
		      			</a>
		      			<div class="col-md-4"> </div>

			        	<a class="label-danger btn btn-remove col-md-4 btn-sm" role="button" data-url="{{ path('refactor_remove_projects', {'id': project.id}) }}" data-id = "{{project.id}}" data-title="{{project.title}}">
			        		<span class="glyphicon glyphicon-remove"></span>
			        		<span class="glyphicon-class" data-layout="center" data-type="confirm">{{ 'Delete'|trans }}</span>
			        	</a>
		       		</p>
		       	</div>
			</article>
			{% endfor %}
		</form>
	</div>
</section>
{% endblock %}
